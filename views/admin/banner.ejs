<%-include('./partial/header')%>

<div>
  <h1 class="text-center">
    Banner 
  </h1>
  <div class="mb-4 d-flex justify-content-center">
    <img id="selectedImage" src="/banner-image/cropped_images/<%=latestBanner.image%>" 
      alt="example placeholder" style="width: 750px; height: 279px; object-fit: cover;" />
  </div>
  <div class="d-flex justify-content-center">
    <form id="imageForm" action="/admin/bannerUpload" method="POST" enctype="multipart/form-data">
      <div class="btn btn-primary btn-rounded">
        <label class="form-label text-white m-1" for="customFile1">Choose file</label>
        <input type="file" class="form-control d-none" id="customFile1" name="image" accept="image/*" onchange="previewImage()" />
      </div>
      <button type="submit" class="btn btn-success mt-2">Upload and Save</button>
    </form>
  </div>
</div>
<script>
  function previewImage() {
    const fileInput = document.getElementById('customFile1');
    const selectedImage = document.getElementById('selectedImage');
    const imageForm = document.getElementById('imageForm');

    // Check if a file is selected
    if (fileInput.files.length > 0) {
      const reader = new FileReader();
      console.log("reader,,,,,,");
      reader.onload = function (e) {
        selectedImage.src = e.target.result;
      };
      console.log("adskfoawiehefoaweoifooieef");
      reader.readAsDataURL(fileInput.files[0]);
    } else {
      console.log("123456789012345678912345678");
      selectedImage.src = "/banner-image/cropped_images/<%=latestBanner.image%>";
    }
  }
</script>

<%- include('./partial/footer') %>
